<h1 class="mb-3">Template Driven Form</h1>

<form
  #form="ngForm"
  [ngClass]="{ 'was-validated': form.submitted }"
  (ngSubmit)="onSubmitForm(form)"
>
  <div class="form-group row mb-3">
    <div class="col-sm-12">
      <label for="nome" class="form-label fw-bold">Nome*</label>
    </div>

    <div class="col-sm-12">
      <input
        type="text"
        class="form-control"
        id="nome"
        name="nome"
        placeholder="Digite seu nome"
        required
        ngModel
        #nome="ngModel"
      />
      <div class="invalid-feedback" *ngIf="nome.errors?.['required']">
        Nome é obrigatório!
      </div>
    </div>
  </div>

  <div class="form-group row mb-3">
    <div class="col-sm-12">
      <label for="email" class="form-label fw-bold">Email*</label>
    </div>

    <div class="col-sm-12">
      <input
        type="text"
        class="form-control"
        id="email"
        name="email"
        placeholder="exemplo@email.com"
        ngModel
        required
        pattern="[-a-zA-Z0-9~!$%^&amp;*_=+}{'?]+(\.[-a-zA-Z0-9~!$%^&amp;*_=+}{'?]+)*@([a-zA-Z0-9_][-a-zA-Z0-9_]*(\.[-a-zA-Z0-9_]+)*\.([cC][oO][mM]))(:[0-9]{1,5})?"
        #email="ngModel"
      />
      <div class="invalid-feedback" *ngIf="email.errors?.['pattern']">
        Email inválido!
      </div>
      <div class="invalid-feedback" *ngIf="email.errors?.['required']">
        Email é obrigatório!
      </div>
    </div>
  </div>

  <div ngModelGroup="endereco" #endereco="ngModelGroup">
    <div class="form-group row mb-3">
      <div class="col-md-3">
        <div class="col-sm-12">
          <label for="cep" class="form-label fw-bold">CEP*</label>
        </div>

        <div class="col-sm-12">
          <input
            class="form-control"
            type="text"
            name="cep"
            id="cep"
            required
            minlength="8"
            maxlength="8"
            ngModel
            #cep="ngModel"
            (blur)="consultaCEP(cep.value, form)"
          />
          <div class="invalid-feedback" *ngIf="cep.errors?.['required']">
            CEP é obrigatório!
          </div>
          <div class="invalid-feedback" *ngIf="cep.errors?.['minlength']">
            CEP inválido!
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="col-sm-12">
          <label for="numero" class="form-label fw-bold">Número*</label>
        </div>

        <div class="col-sm-12">
          <input
            class="form-control"
            type="text"
            name="numero"
            id="numero"
            required
            ngModel
            #numero="ngModel"
          />
          <div class="invalid-feedback" *ngIf="numero.errors?.['required']">
            Número é obrigatório!
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="col-sm-12">
          <label for="complemento" class="form-label fw-bold"
            >Complemento</label
          >
        </div>

        <div class="col-sm-12">
          <input
            class="form-control"
            type="text"
            name="complemento"
            id="complemento"
            ngModel
            #complemento="ngModel"
          />
          <div class="valid-feedback">Ok!</div>
        </div>
      </div>
    </div>

    <div class="form-group row mb-3">
      <div class="col-sm-12">
        <label for="rua" class="form-label fw-bold">Rua*</label>
      </div>

      <div class="col-sm-12">
        <input
          type="text"
          class="form-control"
          id="rua"
          name="rua"
          required
          ngModel
          #rua="ngModel"
        />
        <div class="invalid-feedback" *ngIf="rua.errors?.['required']">
          Rua é obrigatório!
        </div>
      </div>
    </div>

    <div class="form-group row mb-3">
      <div class="col-md-5">
        <div class="col-sm-12">
          <label for="bairro" class="form-label fw-bold">Bairro*</label>
        </div>

        <div class="col-sm-12">
          <input
            class="form-control"
            type="text"
            name="bairro"
            id="bairro"
            required
            ngModel
            #bairro="ngModel"
          />
          <div class="invalid-feedback" *ngIf="bairro.errors?.['required']">
            Bairro é obrigatório!
          </div>
        </div>
      </div>

      <div class="col-md-4">
        <div class="col-sm-12">
          <label for="cidade" class="form-label fw-bold">Cidade*</label>
        </div>

        <div class="col-sm-12">
          <input
            class="form-control"
            type="text"
            name="cidade"
            id="cidade"
            required
            ngModel
            #cidade="ngModel"
          />
          <div class="invalid-feedback" *ngIf="cidade.errors?.['required']">
            Cidade é obrigatório!
          </div>
        </div>
      </div>

      <div class="col-md-3">
        <div class="col-sm-12">
          <label for="estado" class="form-label fw-bold">Estado*</label>
        </div>

        <div class="col-sm-12">
          <input
            class="form-control"
            type="text"
            name="estado"
            id="estado"
            ngModel
            required
            minlength="2"
            maxlength="2"
            #estado="ngModel"
          />
          <div class="invalid-feedback" *ngIf="estado.errors?.['required']">
            Estado é obrigatório!
          </div>
        </div>
      </div>
    </div>
  </div>

  <button type="submit" class="btn btn-primary mt-3">Enviar</button>
</form>
